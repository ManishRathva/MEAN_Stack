<app-header></app-header>
<div class="container-fluid">
<div class="text-center">
  <button type="button" class="btn btn-lg bttn"  data-bs-toggle="modal"  data-bs-target="#exampleModal"
> +Add New Product</button>
</div>

 <div class="modal fade " id="exampleModal">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header text-center">
          <h2 class="modal-title"id="exampleModalLabel">
             Add New Product</h2>
         </div>
        <div class="row text-center">
          <div class="col-lg-12">
            <form class="mt-3" [formGroup]="productForm" (ngSubmit)="onProductSubmit()">
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <input type="text"
                    formControlName="name" matInput placeholder="Enter Product Name" />
                  </mat-form-field>
                <br />
              </div>
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <input type="number" formControlName="price" type="number" matInput
                    placeholder="Enter Product Price"/> </mat-form-field
                ><br />
              </div>
              <div class="form-group">
                <mat-form-field appearance="outline">
                  <input type="text" formControlName="brand" matInput placeholder="Enter Product Brand"/>
                </mat-form-field>
              </div>
              <br>
              <div>
                <span>Select Image</span>
                <input type="file"  (change)="onSelectImage($event)" name="image" >

              </div>
                 <div>
                  <button style="float:right;" mat-raised-button color="primary">Submit</button>
                 </div>
                 <br>
                 <br>
              <img *ngIf="imagePreview" style="width:80px; height: 80px ;" [src]="imagePreview" alt="">
              <div class="mb-3">
                <button type="submit" class="btn btn-warning btn-lg" data-bs-dismiss="modal">Submit</button>&nbsp;
                <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">Close</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container">
<div class="row">
  <div class="col-md-3" *ngFor="let product of getdata">
    <div class="card mb-3">
      <div class="card-body">
        <p>
          <img [src]="product.image" width="40px" height="50px">
        </p>
        <h1 class="card-title">{{product.name}}</h1>
        <h2 class="card-subtitle mb-2 text-muted">{{product.brand}}</h2>
        <p>{{product.price}}</p>
        <hr>
        <button (click)="editData(product)" class="btn btn-sm btn-warning">Edit</button>&nbsp;
        <button type="button" (click)="deleteData(product._id)" class="btn btn-sm btn-danger">Delete</button>
      </div>
    </div>
  </div>
</div>
</div>
